import{A as M,P as D,t as C,r as S,o as p,E as h,i as r,a as l,w as t,v as f,F as U,G as k,C as v,g as s,H as n,I as B,J as _,D as T,K as O,L as g,B as V,h as i,O as G,M as I,N as F,x as y,z as x,y as N}from"./index-58f9f511.js";import{_ as A}from"./_plugin-vue_export-helper-c27b6911.js";const W=M(),c=D(),{group:d}=C(c),j={data(){return{tab:null,search:"",search_user:"",banDialog:!1,banMode:"Off",shillMode:"Off",headers:[{title:"No",align:"start",key:"no"},{title:"Symbol",align:"start",key:"symbol"},{title:"Shared Marketcap",align:"start",key:"marketcap"},{title:"Current Marketcap",align:"start",key:"current_marketcap"},{title:"ATH",align:"start",key:"ath"}],user_headers:[{title:"No",align:"start",key:"no"},{title:"Fullname",align:"start",key:"fullname"},{title:"Username",align:"start",key:"username"},{title:"User Id",align:"start",key:"user_id"}],group:[],group_id:null,user_id:null}},created(){const u=this.$route.params.group_id;this.group_id=u,c.getById(u).then(()=>{this.group=d.value,this.banMode=d.value.setting.ban_mode?"On":"Off",this.shillMode=d.value.setting.shill_mode?"On":"Off"})},methods:{openBanDialog(u){this.user_id=u,this.group_id=this.group.group_id,this.banDialog=!0},async removeBan(){await W.userUnban(this.user_id,this.group_id),c.getById(this.group_id).then(()=>{this.group=d.value}),this.group_id=null,this.user_id=null,this.banDialog=!1},cancelRemove(){this.group_id=null,this.user_id=null,this.banDialog=!1},async settingUpdate(){await c.updateSetting(this.banMode,this.shillMode,this.group_id),c.getById(this.group_id).then(()=>{this.group=d.value})}}},R={class:"text-subtitle-1 text-medium-emphasis"},L={class:"text-subtitle-1 text-medium-emphasis"},P={class:"text-subtitle-1 text-medium-emphasis"},z={class:"text-subtitle-1 text-medium-emphasis"},E=s("thead",null,[s("tr",null,[s("th",{id:"ban_no_column",class:"text-left"},"No"),s("th",{id:"ban_fullname_column",class:"text-left"},"Fullname"),s("th",{id:"ban_username_column",class:"text-left"},"Username"),s("th",{id:"ban_user_id_column",class:"text-left"},"User Id"),s("th",{id:"action_column",class:"text-left"},"Action")])],-1),H={key:1},J=s("td",{colspan:"5",class:"text-center"},"No Groups",-1),K=[J];function q(u,o,Q,X,a,m){const b=S("v-data-table");return p(),h(k,null,[r(" Group Detail page "),l(f,null,{default:t(()=>[l(v,null,{default:t(()=>[s("div",R,"Group Title: "+n(a.group.title),1),s("div",L,"Group Link: "+n(a.group.link),1),s("div",P,"Group Id: "+n(a.group.group_id),1),s("div",z,"Total Projects: "+n(a.group.total_shills),1)]),_:1}),l(B,{modelValue:a.tab,"onUpdate:modelValue":o[0]||(o[0]=e=>a.tab=e),"bg-color":"blue"},{default:t(()=>[l(_,{value:"all_projects"},{default:t(()=>[r("All Projects")]),_:1}),l(_,{value:"users"},{default:t(()=>[r("Users")]),_:1}),l(_,{value:"bans"},{default:t(()=>[r("Bans")]),_:1}),l(_,{value:"setting"},{default:t(()=>[r("Setting")]),_:1})]),_:1},8,["modelValue"]),l(T,null,{default:t(()=>[l(O,{modelValue:a.tab,"onUpdate:modelValue":o[5]||(o[5]=e=>a.tab=e)},{default:t(()=>[l(g,{value:"all_projects"},{default:t(()=>[l(V,{modelValue:a.search,"onUpdate:modelValue":o[1]||(o[1]=e=>a.search=e),label:"Search",class:"mt-2",density:"compact","append-inner-icon":"mdi-magnify","hide-details":"","single-line":""},null,8,["modelValue"]),l(b,{headers:a.headers,items:a.group.latest_shills,"sort-by":[{key:"no",order:"asc"}],search:a.search},{"item.symbol":t(({item:e})=>[l(i,{variant:"plain",href:e.raw.pair_url,target:"blink"},{default:t(()=>[r(n(e.raw.symbol)+" ",1),l(G,{activator:"parent",scrim:"",location:"top"},{default:t(()=>[r(n(e.raw.token),1)]),_:2},1024)]),_:2},1032,["href"])]),"item.marketcap":t(({item:e})=>[r(n(u.$numFormatWithDollar(e.raw.marketcap)),1)]),"item.current_marketcap":t(({item:e})=>[r(n(u.$isActive(e.raw.status)?`${u.$numFormatWithDollar(e.raw.current_marketcap)}
                                                        (${u.$getMultiple(e.raw.current_marketcap,e.raw.marketcap)})`:"removed"),1)]),"item.ath":t(({item:e})=>[r(n(u.$numFormatWithDollar(e.raw.ath))+" ("+n(u.$getMultiple(e.raw.ath,e.raw.marketcap))+") ",1)]),"no-data":t(()=>[r(" no data ")]),_:1},8,["headers","items","search"])]),_:1}),l(g,{value:"users"},{default:t(()=>[l(V,{modelValue:a.search_user,"onUpdate:modelValue":o[2]||(o[2]=e=>a.search_user=e),label:"Search",class:"mt-2",density:"compact","append-inner-icon":"mdi-magnify","hide-details":"","single-line":""},null,8,["modelValue"]),l(b,{headers:a.user_headers,items:a.group.users,"sort-by":[{key:"no",order:"asc"}],search:a.search_user},{"no-data":t(()=>[r(" no data ")]),_:1},8,["headers","items","search"])]),_:1}),l(g,{value:"bans"},{default:t(()=>[l(I,null,{default:t(()=>[E,s("tbody",null,[a.group.bans.length>0?(p(!0),h(k,{key:0},F(a.group.bans,(e,w)=>(p(),h("tr",{key:e.no},[s("td",null,n(w+1),1),s("td",null,n(e.fullname),1),s("td",null,n(e.username),1),s("td",null,n(e.user_id),1),s("td",null,[l(i,{color:"red",icon:"mdi-delete",onClick:Y=>m.openBanDialog(e.user_id),title:"Remove Warning",size:"x-small"},null,8,["onClick"])])]))),128)):(p(),h("tr",H,K))])]),_:1})]),_:1}),l(g,{value:"setting"},{default:t(()=>[l(f,{width:"400"},{title:t(()=>[r(" Group Setting ")]),text:t(()=>[l(y,{modelValue:a.shillMode,"onUpdate:modelValue":o[3]||(o[3]=e=>a.shillMode=e),"hide-details":"","true-value":"On",color:"success","false-value":"Off",label:`Shill Mode Turned ${a.shillMode}`},null,8,["modelValue","label"]),l(y,{modelValue:a.banMode,"onUpdate:modelValue":o[4]||(o[4]=e=>a.banMode=e),"hide-details":"","true-value":"On",color:"success","false-value":"Off",label:`Ban Mode Turned ${a.banMode}`},null,8,["modelValue","label"])]),default:t(()=>[l(x,null,{default:t(()=>[l(i,{variant:"tonal","prepend-icon":"mdi-check-circle",class:"px-5",color:"success",onClick:m.settingUpdate},{default:t(()=>[r("Save")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(U,{modelValue:a.banDialog,"onUpdate:modelValue":o[6]||(o[6]=e=>a.banDialog=e),persistent:"",width:"auto"},{default:t(()=>[l(f,null,{default:t(()=>[l(v,{class:"text-h5"},{default:t(()=>[r(" Do you want to unBan this user? ")]),_:1}),l(x,null,{default:t(()=>[l(N),l(i,{color:"green-darken-1",variant:"text",onClick:m.cancelRemove},{default:t(()=>[r(" Disagree ")]),_:1},8,["onClick"]),l(i,{color:"red",variant:"text",onClick:m.removeBan},{default:t(()=>[r(" Agree ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}const ee=A(j,[["render",q]]);export{ee as default};
